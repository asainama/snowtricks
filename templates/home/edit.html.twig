<aside id="modal2" class="modal" aria-hidden="true" role="dialog" aria-labelledby="modal__wrapper__title" style="display:none">
    <div class="modal__wrapper js-modal-stop">
        <div class="modal__wrapper__img">
            <button class="modal__wrapper__img__close js-modal-close">X</button>
            {% if app.user %}
                <a href="{{path('app_admin_edit', {'id' :trick.id })}}" class="modal__wrapper__img__edit">M</a>
            {% endif %}
            <img src="{{asset('snowtricks/tricks/' ~ trick.mainImage)}}" alt="modal__header">
            <div class="modal__wrapper__img__title">
                <p>{{trick.name}}</p>
            </div>
        </div>
        <div class="modal__wrapper__body">
            <h1 class="modal__wrapper__title">{{trick.name}}</h1>
            <div class="modal__wrapper__body__medias">
                <div class="modal__wrapper__body__medias__images">
                    <div class="modal__wrapper__body__medias__choose">
                        <div class="modal__wrapper__body__medias__choose__content">
                            <img class="modal__wrapper__body__medias__choose__content__img" src="" alt="">
                            <div class="modal__wrapper__body__medias__choose__content__text">No file chosen, yet!</div>
                            <div class="modal__wrapper__body__medias__choose__content__cancel">X</div>
                            <div class="modal__wrapper__body__medias__choose__content__file">File name here</div>
                        </div>
                        <input id="medias-btn" type="file" hidden>
                        <button onclick="btnClick()" class="modal__wrapper__body__medias__choose__btn">Choose a file</button>
                        <script>
                        var mediaBtn = document.querySelector('#medias-btn')
                        var customBtn = document.querySelector('.modal__wrapper__body__medias__choose__btn')
                        const img = document.querySelector('.modal__wrapper__body__medias__choose__content__img')

                        const fileName = document.querySelector('.modal__wrapper__body__medias__choose__content__file')
                        let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
                        function btnClick(){
                            mediaBtn.click()
                        }
                        mediaBtn.addEventListener('change',function(e){
                            const file = this.files[0]
                            if (file){
                                const reader = new FileReader()
                                reader.onload = function(){
                                    const result = reader.result
                                    img.src = result
                                }
                                reader.readAsDataURL(file)
                            }
                            if (this.value){
                                let valueStore = this.value.match(regExp)
                                fileName.textContent = valueStore
                            }
                        })
                        </script>
                    </div>
                    {% for image in trick.images %}
                        <div>
                            <img src="{{asset('snowtricks/tricks/' ~ image.path)}}">
                            <div class="modal__wrapper__body__medias__actions">
                                <a href="#">M</a>
                                <a href="#">D</a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <div class="modal__wrapper__body__medias__videos">
                    {% for video in trick.videos %}
                        <div>
                            <iframe allowfullscreen frameborder="0" src="{{video.url}}" allow="autoplay; encrypted-media"></iframe>
                            <div class="modal__wrapper__body__medias__actions">
                                <a href="#">M</a>
                                <a href="#">D</a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="modal__wrapper__body__tags">
                <p>
                    Cat√©gorie(s):
                    {% for categorie in trick.categories %}
                        <span>{{categorie.name}}</span>
                    {% endfor %}
                </p>
            </div>
            <div class="modal__wrapper__body__date">
                <p>{{ trick.createdAt|date("d/m/Y") }}</p>
            </div>
            <div class="modal__wrapper__body__description">
                <p>{{trick.description|capitalize }}</p>
            </div>
            <div class="modal__wrapper__body__comments">
                <h2>Commentaires</h2>
                {% if app.user %}
                    <p>Ajouter un commentaire</p>
                {% else %}
                    <p>Pour ajouter un commentaire. Veuillez-vous connecter.</p>
                {% endif %}
                {% if trick.comments is empty %}
                    <p>Aucun commentaire pour le moment</p>
                {% else %}
                    {% for comment in trick.comments %}
                        <div class="modal__wrapper__body__comments__item">
                            <div class="modal__wrapper__body__comments__item__img">
                                <img src="{{asset('snowtricks/users/' ~ comment.user.attachment)}}" alt="{{comment.user.name}}">
                            </div>
                            <div class="modal__wrapper__body__comments__item__body">
                                <span>{{comment.createdAt|date("d/m/Y")}}</span>
                                <p>{{comment.content}}</p>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
</aside>